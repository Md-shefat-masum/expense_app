"use strict";(globalThis["webpackChunkexpense_app"]=globalThis["webpackChunkexpense_app"]||[]).push([[306],{3306:(t,e,l)=>{l.r(e),l.d(e,{default:()=>L});var n=l(9835),i=l(1957),a=l(6970);const s={class:"q-pa-md app_body"},u={class:"top",id:"top",style:{display:"none"}},o=(0,n._)("br",null,null,-1),m=(0,n._)("h5",{class:"q-my-sm"},"Target",-1),d=(0,n._)("br",null,null,-1),p={class:"row wrap justify-between",style:{"row-gap":"10px"}},r={class:"col-4"},c={class:"col-4 q-pl-md"},h={for:"kg"},_=(0,n._)("br",null,null,-1),g={for:"gr"},y=(0,n._)("br",null,null,-1),x={for:"ltr"},b=(0,n._)("br",null,null,-1),f={for:"qty"},k={class:"col-4"},w={class:"col-5"},v={class:"col-6"},q=(0,n._)("br",null,null,-1),V=(0,n._)("br",null,null,-1),U=(0,n._)("br",null,null,-1),C=(0,n._)("i",{class:"fa fa-eye"},null,-1),S={class:"table"},z={cellspacing:"0"},I=(0,n._)("thead",null,[(0,n._)("tr",null,[(0,n._)("th",null," SI"),(0,n._)("th",null," Title "),(0,n._)("th",null," Amount ")])],-1),T={class:"data"},W={key:0},Z={key:1},G={class:"action"},A=["onClick"],D=["onClick"],N=["onClick"],Q=(0,n._)("td",{colspan:"2"},"Total",-1),B=(0,n._)("td",{colspan:"2"},"Cash",-1);function M(t,e,l,M,R,j){const E=(0,n.up)("q-input"),H=(0,n.up)("q-btn"),J=(0,n.up)("q-scroll-area");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",u,[(0,n.Wm)(E,{outlined:"",type:"number",modelValue:t.expense.budget,"onUpdate:modelValue":e[0]||(e[0]=e=>t.expense.budget=e),label:"Net Balance"},null,8,["modelValue"]),o,m,(0,n.Wm)(E,{outlined:"",modelValue:t.item.title,"onUpdate:modelValue":e[1]||(e[1]=e=>t.item.title=e),label:"Title"},null,8,["modelValue"]),d,(0,n._)("div",p,[(0,n._)("div",r,[(0,n.Wm)(E,{outlined:"",modelValue:t.item.qty,"onUpdate:modelValue":e[2]||(e[2]=e=>t.item.qty=e),onClick:e[3]||(e[3]=t=>t.target.select()),label:"Quantity",type:"number"},null,8,["modelValue"])]),(0,n._)("div",c,[(0,n._)("label",h,[(0,n.wy)((0,n._)("input",{type:"radio",checked:"","onUpdate:modelValue":e[4]||(e[4]=e=>t.item.unit=e),value:"kg",id:"kg",name:"unit"},null,512),[[i.G2,t.item.unit]]),(0,n.Uk)(" KG ")]),_,(0,n._)("label",g,[(0,n.wy)((0,n._)("input",{type:"radio",value:"gr","onUpdate:modelValue":e[5]||(e[5]=e=>t.item.unit=e),id:"gr",name:"unit"},null,512),[[i.G2,t.item.unit]]),(0,n.Uk)(" GR ")]),y,(0,n._)("label",x,[(0,n.wy)((0,n._)("input",{type:"radio",value:"ltr","onUpdate:modelValue":e[6]||(e[6]=e=>t.item.unit=e),id:"ltr",name:"unit"},null,512),[[i.G2,t.item.unit]]),(0,n.Uk)(" LTR ")]),b,(0,n._)("label",f,[(0,n.wy)((0,n._)("input",{type:"radio",value:"qty","onUpdate:modelValue":e[7]||(e[7]=e=>t.item.unit=e),id:"qty",name:"unit"},null,512),[[i.G2,t.item.unit]]),(0,n.Uk)(" QTY ")])]),(0,n._)("div",k,[(0,n.Wm)(E,{outlined:"",onClick:e[8]||(e[8]=t=>t.target.select()),modelValue:t.item.unit_amount,"onUpdate:modelValue":e[9]||(e[9]=e=>t.item.unit_amount=e),label:"Unit Amount",type:"number"},null,8,["modelValue"])]),(0,n._)("div",w,[(0,n.Wm)(E,{outlined:"",onClick:e[10]||(e[10]=t=>t.target.select()),modelValue:t.item.minus_amount,"onUpdate:modelValue":e[11]||(e[11]=e=>t.item.minus_amount=e),label:"Minus Amount",type:"number"},null,8,["modelValue"])]),(0,n._)("div",v,[(0,n.Wm)(E,{readonly:"",outlined:"",onClick:e[12]||(e[12]=t=>t.target.select()),modelValue:t.item.amount,"onUpdate:modelValue":e[13]||(e[13]=e=>t.item.amount=e),label:"Amount"},null,8,["modelValue"])])]),q,(0,n.Wm)(H,{onClick:t.store,color:"deep-orange",glossy:"",label:"submit"},null,8,["onClick"]),V,U]),(0,n._)("div",{onClick:e[14]||(e[14]=e=>t.toggle_form())},[C,(0,n.Uk)("   toggle form ")]),(0,n.Wm)(J,{"thumb-style":t.thumbStyle,"bar-style":t.barStyle,style:(0,a.j5)(`height: calc(100vh - ${t.top_height||520}px); max-width: 100vw;`)},{default:(0,n.w5)((()=>[(0,n._)("div",S,[(0,n._)("table",z,[I,(0,n._)("tbody",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.expense.calculators,((e,l)=>((0,n.wg)(),(0,n.iD)("tr",{key:e.id},[(0,n._)("td",null,(0,a.zw)(l+1),1),(0,n._)("th",null,[(0,n._)("div",T,[(0,n.Uk)((0,a.zw)(e.title)+" ",1),e.qty?((0,n.wg)(),(0,n.iD)("span",W," : "+(0,a.zw)(e.qty)+" "+(0,a.zw)(e.unit)+" * "+(0,a.zw)(e.unit_amount),1)):(0,n.kq)("",!0),e.minus_amount?((0,n.wg)(),(0,n.iD)("span",Z," - "+(0,a.zw)(e.minus_amount),1)):(0,n.kq)("",!0)]),(0,n._)("div",G,[(0,n._)("a",{href:"#",onClick:(0,i.iM)((l=>t.get_data(e.id)),["prevent"]),class:"text-orange"},"edit",8,A),(0,n.Uk)("   "),(0,n._)("a",{href:"#",onClick:(0,i.iM)((e=>t.delete_data(l)),["prevent"]),class:"text-red"},"delete",8,D),(0,n.Uk)("   "),(0,n._)("a",{href:"#",onClick:(0,i.iM)((n=>t.add_to_expense(e,l)),["prevent"]),class:"text-blue"},"add to expense",8,N),(0,n.Uk)("   ")])]),(0,n._)("td",null,(0,a.zw)(t.format(e.amount))+" /-",1)])))),128))]),(0,n._)("tfoot",null,[(0,n._)("tr",null,[Q,(0,n._)("td",null,(0,a.zw)(t.format(t.total))+" /-",1)]),(0,n._)("tr",null,[B,(0,n._)("td",null,(0,a.zw)(t.format(t.expense.budget-t.total_expense-t.total_target-t.total))+" /-",1)])])])])])),_:1},8,["thumb-style","bar-style","style"])])}l(6890);var R=l(7524);const j=(0,n.aZ)({name:"Calculator",data:()=>({type:"store",item:{title:"",unit_amount:0,minus_amount:0,amount:0,qty:0,unit:"kg"},thumbStyle:{right:"4px",borderRadius:"5px",backgroundColor:"#027be3",width:"5px",opacity:.75},barStyle:{right:"2px",borderRadius:"9px",backgroundColor:"#027be3",width:"9px",opacity:.2},expense:{budget:0,expenses:[],calculators:[]},top_height:0}),created:async function(){this.clac_top(),await this.get_expense()},watch:{expense:{handler:function(){this.set_expense()},deep:!0},item:{handler:function(){this.item.amount=(+this.item.qty||1)*+this.item.unit_amount-+this.item.minus_amount},deep:!0}},methods:{store:function(){if(this.item.title.length&&this.item.amount&&"store"==this.type&&(this.expense.calculators||(this.expense.calculators=[]),this.expense.calculators.unshift({id:this.expense.calculators.length+1,title:this.item.title,amount:+this.item.amount,unit_amount:+this.item.unit_amount,minus_amount:+this.item.minus_amount,qty:+this.item.qty,unit:this.item.unit}),this.reset()),this.item.title.length&&this.item.amount&&"edit"==this.type){let t=this.expense.calculators.findIndex((t=>t.id==this.item.id));this.expense.calculators[t]={...this.item},this.reset()}},add_to_expense:function(t,e){let l=confirm("add to expense");l&&(t.id=this.expense.expenses.length+1,this.expense.expenses.unshift({...t}),this.expense.calculators.splice(e,1))},get_data:function(t){this.item={...this.expense.calculators.find((e=>e.id==t))},this.type="edit",this.toggle_form()},delete_data:function(t){let e=confirm("delete");e&&(this.item=this.expense.calculators.splice(t,1))},reset:function(){this.item.title="",this.item.amount=0,this.item.unit_amount=0,this.item.minus_amount=0,this.item.qty=0,this.item.unit="kg",this.type="store"},get_expense:async function(){let t=localStorage.getItem("expense");t&&(this.expense=JSON.parse(t));let e=await R.Z.get("https://qbank.techparkit.org/api/expense");this.expense=e.data},set_expense:async function(){localStorage.setItem("expense",JSON.stringify(this.expense));await R.Z.post("https://qbank.techparkit.org/api/expense",{data:this.expense})},format:function(t=0){return Intl.NumberFormat("en-IN").format(t)},toggle_form:function(){let t=document.getElementById("top"),e=t.style.display;t.style.display="none"==e?"block":"none",this.clac_top()},clac_top:function(){let t=this;setTimeout((function(){t.top_height=document.getElementById("top").clientHeight+110}),300)}},computed:{total:function(){let t=0;return this.expense.calculators&&(t=this.expense.calculators.reduce(((t,e)=>t+ +e.amount),0)),t},total_target:function(){let t=this.expense.targets.reduce(((t,e)=>t+ +e.amount),0);return t},total_expense:function(){let t=this.expense.expenses.reduce(((t,e)=>t+ +e.amount),0);return t}}});var E=l(1639),H=l(6868),J=l(9379),K=l(1821),O=l(9984),Y=l.n(O);const F=(0,E.Z)(j,[["render",M]]),L=F;Y()(j,"components",{QInput:H.Z,QBtn:J.Z,QScrollArea:K.Z})}}]);